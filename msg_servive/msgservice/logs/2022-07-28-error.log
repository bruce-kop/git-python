Thu, 28 Jul 2022 16:38:09-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 21, in find
    msgs = msg.QuerySet.get
AttributeError: 'Message' object has no attribute 'QuerySet'
Thu, 28 Jul 2022 16:45:05-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.Objects.all()
AttributeError: type object 'Message' has no attribute 'Objects'
Thu, 28 Jul 2022 16:48:08-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.Objects.all()
AttributeError: type object 'Message' has no attribute 'Objects'
Thu, 28 Jul 2022 16:49:28-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1520, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1539, in finalize_request
    response = self.make_response(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1695, in make_response
    raise TypeError(
TypeError: The view function for 'message_svr.find' did not return a valid response. The function either returned None or ended without a return statement.
Thu, 28 Jul 2022 16:50:41-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1520, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1539, in finalize_request
    response = self.make_response(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1695, in make_response
    raise TypeError(
TypeError: The view function for 'message_svr.find' did not return a valid response. The function either returned None or ended without a return statement.
Thu, 28 Jul 2022 17:06:58-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.objects.get_or_404()
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 157, in get_or_404
    return self.get(*args, **kwargs)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 269, in get
    result = next(queryset)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 1599, in __next__
    doc = self._document._from_son(
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 836, in _from_son
    obj = cls(__auto_convert=False, _created=created, **data)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 99, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'centent', 'create_data'}" do not exist on the document "Message"
Thu, 28 Jul 2022 17:08:12-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.objects.get_or_404()
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 157, in get_or_404
    return self.get(*args, **kwargs)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 281, in get
    raise queryset._document.MultipleObjectsReturned(
msgservice.models.database.MultipleObjectsReturned: 2 or more items returned, instead of 1
Thu, 28 Jul 2022 17:58:28-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.objects.get_or_404()
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 157, in get_or_404
    return self.get(*args, **kwargs)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 269, in get
    result = next(queryset)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 1599, in __next__
    doc = self._document._from_son(
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 836, in _from_son
    obj = cls(__auto_convert=False, _created=created, **data)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 99, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'created_at', 'msg_id', 'content'}" do not exist on the document "Message"
Thu, 28 Jul 2022 17:59:17-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.objects.paginate(page=1, per_page=5)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 29, in __init__
    self.items = self.items.select_related()
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 844, in select_related
    return queryset._dereference(queryset, max_depth=max_depth)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\dereference.py", line 42, in __call__
    items = [i for i in items]
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\dereference.py", line 42, in <listcomp>
    items = [i for i in items]
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\queryset.py", line 110, in _iter_results
    self._populate_cache()
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\queryset.py", line 129, in _populate_cache
    self._result_cache.append(next(self))
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 1599, in __next__
    doc = self._document._from_son(
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 836, in _from_son
    obj = cls(__auto_convert=False, _created=created, **data)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 99, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'msg_id', 'created_at', 'content'}" do not exist on the document "Message"
Thu, 28 Jul 2022 17:59:44-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 20, in find
    msgs = Message.objects.paginate(page=1, per_page=5)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 29, in __init__
    self.items = self.items.select_related()
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 844, in select_related
    return queryset._dereference(queryset, max_depth=max_depth)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\dereference.py", line 42, in __call__
    items = [i for i in items]
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\dereference.py", line 42, in <listcomp>
    items = [i for i in items]
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\queryset.py", line 110, in _iter_results
    self._populate_cache()
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\queryset.py", line 129, in _populate_cache
    self._result_cache.append(next(self))
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\base.py", line 1599, in __next__
    doc = self._document._from_son(
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 836, in _from_son
    obj = cls(__auto_convert=False, _created=created, **data)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\base\document.py", line 99, in __init__
    raise FieldDoesNotExist(msg)
mongoengine.errors.FieldDoesNotExist: The fields "{'msg_id'}" do not exist on the document "Message"
Thu, 28 Jul 2022 18:00:39-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1520, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1539, in finalize_request
    response = self.make_response(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1714, in make_response
    rv = jsonify(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Pagination is not JSON serializable
Thu, 28 Jul 2022 18:01:25-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1520, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1539, in finalize_request
    response = self.make_response(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1714, in make_response
    rv = jsonify(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Pagination is not JSON serializable
Thu, 28 Jul 2022 18:02:41-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1520, in full_dispatch_request
    return self.finalize_request(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1539, in finalize_request
    response = self.make_response(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1714, in make_response
    rv = jsonify(rv)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Pagination is not JSON serializable
Thu, 28 Jul 2022 22:03:51-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 21, in find
    pageSise = data.get("pageSise")
NameError: name 'data' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 25, in find
    return jsonify(responseBuilder.build_response(ResCode.MESSAGE_FIND_PARAM_INVALID,
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:05:26-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 29, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\queryset\manager.py", line 38, in __get__
    queryset = queryset_class(owner, owner._get_collection())
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\document.py", line 233, in _get_collection
    cls.ensure_indexes()
  File "D:\Programs\Python\Python310\lib\site-packages\mongoengine\document.py", line 913, in ensure_indexes
    collection.create_index(fields, background=background, **opts)
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\collection.py", line 2023, in create_index
    return self.__create_indexes([index], session, **cmd_options)[0]
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\collection.py", line 1900, in __create_indexes
    self._command(
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\collection.py", line 272, in _command
    return sock_info.command(
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\pool.py", line 743, in command
    return command(
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\network.py", line 160, in command
    helpers._check_command_response(
  File "D:\Programs\Python\Python310\lib\site-packages\pymongo\helpers.py", line 180, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: The field 'background' is not valid for an _id index specification. Specification: { background: false, unique: true, sparse: false, name: "_id_1", key: { _id: 1 }, v: 2 }, full error: {'ok': 0.0, 'errmsg': 'The field \'background\' is not valid for an _id index specification. Specification: { background: false, unique: true, sparse: false, name: "_id_1", key: { _id: 1 }, v: 2 }', 'code': 197, 'codeName': 'InvalidIndexSpecificationOption'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 33, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:07:37-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 29, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 12, in __init__
    if page < 1:
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 33, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:10:05-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 30, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 12, in __init__
    if page < 1:
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 34, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:11:40-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 30, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 12, in __init__
    if page < 1:
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 34, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:12:12-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 31, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 12, in __init__
    if page < 1:
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 35, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:13:25-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 32, in find
    msgs = Message.objects.paginate(page=pageSise, per_page=pageIndex)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\__init__.py", line 172, in paginate
    return Pagination(self, page, per_page)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\pagination.py", line 12, in __init__
    if page < 1:
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 36, in find
    return jsonify(responseBuilder.build_response(ResCode.INNER_ERR, ResMSG.INNER_ERR))
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:14:45-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 38, in find
    pageSize = pageSise
NameError: name 'pageSise' is not defined
Thu, 28 Jul 2022 22:15:14-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 39, in find
    return jsonify(responseBuilder.build_response(ResCode.MESSAGE_FIND_PARAM_INVALID,
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:16:17-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 39, in find
    return jsonify(responseBuilder.build_response(ResCode.MESSAGE_FIND_SUCCESS,
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResCode is not JSON serializable
Thu, 28 Jul 2022 22:17:27-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 39, in find
    return jsonify(responseBuilder.build_response(ResCode.MESSAGE_FIND_SUCCESS.value,
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 302, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 132, in dumps
    return _json.dumps(obj, **kwargs)
  File "D:\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "D:\Programs\Python\Python310\lib\site-packages\flask_mongoengine\json.py", line 19, in default
    return superclass.default(self, obj)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\json\__init__.py", line 51, in default
    return super().default(o)
  File "D:\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Pagination is not JSON serializable
Thu, 28 Jul 2022 23:01:43-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 36, in find
    totalCount = msgs.total
AttributeError: 'BaseQuerySet' object has no attribute 'total'
Thu, 28 Jul 2022 23:02:16-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 43, in find
    totalCount=totalCount, totalpage=totalpage,
NameError: name 'totalCount' is not defined
Thu, 28 Jul 2022 23:02:42-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 44, in find
    totalCount=totalCount, totalpage=totalpage,
NameError: name 'totalCount' is not defined
Thu, 28 Jul 2022 23:04:25-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 43, in find
    totalCount=totalCount, totalpage=totalpage,
NameError: name 'totalCount' is not defined
Thu, 28 Jul 2022 23:07:04-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 43, in find
    totalCount=totalCount, totalpage=totalpage,
NameError: name 'totalCount' is not defined
Thu, 28 Jul 2022 23:11:48-app-app.py-[line:1449]-ERROR-[日志信息]: Exception on /api/msg/find [POST]
Traceback (most recent call last):
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1519, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1517, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Programs\Python\Python310\lib\site-packages\flask\app.py", line 1503, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "D:\git-python\msg_servive\msgservice\views\message.py", line 35, in find
    totalpage = int(totalpage/pageSize) + ( 0 if totalpage%pageSize == 0 else 1)
UnboundLocalError: local variable 'totalpage' referenced before assignment
